<style>
    .center-div {
        width: 600px;
        background: #fff;
        margin: 50px auto;
        padding: 20px;
    }

    .error {
        color: red !important;
    }

    .table-actions {
        font-size: 16px;
        color: #333;
        margin: 0 5px;
    }

    .contact-page-aside {
        position: relative;
        min-height: 350px;
    }

    .left-aside {
        position: absolute;
        border-right: 1px solid #e9ecef;
        padding: 20px;
        width: 250px;
        height: 100%;
    }

    .right-aside {
        padding: 20px;
        margin-left: 250px;
    }

    .contact-list td {
        vertical-align: middle;
        padding: 25px 10px;
    }

    .contact-list td img {
        width: 30px;
    }

    .list-style-none {
        margin: 0px;
        padding: 0px;
    }

    .list-style-none li {
        list-style: none;
        margin: 0px;
    }

    .list-style-none li.box-label a {
        font-weight: 500;
    }

    .list-style-none li.divider {
        margin: 10px 0;
        height: 1px;
        background: #e9ecef;
    }

    .list-style-none li a {
        padding: 15px 10px;
        display: block;
        color: #212529;
    }

    .list-style-none li a:hover {
        color: #fb9678;
    }

    .list-style-none li a span {
        float: right;
    }

    .social-profile {
        text-align: center;
        background: rgba(7, 10, 43, 0.8);
    }

    .profile-tab li a.nav-link,
    .customtab li a.nav-link {
        border: 0px;
        padding: 15px 20px;
        color: #212529;
    }

    .profile-tab li a.nav-link.active,
    .customtab li a.nav-link.active {
        border-bottom: 2px solid #fb9678;
        color: #fb9678;
    }

    .profile-tab li a.nav-link:hover,
    .customtab li a.nav-link:hover {
        color: #fb9678;
    }

    .selected {
        font-weight: bold;
    }
</style>
{{#if error}}
    <div id="error" class="alert alert-danger" style="margin-top: 25px;">{{errMessage}}</div>
{{/if}}
<div class="row page-titles">
    <div class="col-md-5 align-self-center">
        <h4 class="text-themecolor">Conozca su cliente (Know your Customer)</h4>
    </div>
    <div class="col-md-7 align-self-center text-right">
        <div class="d-flex justify-content-end align-items-center">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="#">Home</a></li>
                <li class="breadcrumb-item active">TuIdentidad</li>
            </ol>

        </div>
    </div>
</div>
<div class="row ">
    <div class="col-12">
        <div class="card">
            <!-- .left-right-aside-column-->
            <div class="contact-page-aside">
                <!-- .left-aside-column-->
                <div class="left-aside bg-light-part">
                    <ul class="list-style-none">
                        <li  {{#if_eq selected 'all'}}
                        class="box-label"
                        {{/if_eq}}>
                            <a href="/kyb/{{org}}/{{currentProject}}/list/all">Todos los clientes
                                <span>{{status.all}}</span></a></li>
                        <li class="divider"></li>
                        <li  {{#if_eq selected 'pending'}}
                        class="box-label"
                        {{/if_eq}}><a href="/kyb/{{org}}/{{currentProject}}/list/pending">Pendientes
                            <span>{{status.pending}}</span></a></li>
<!--                        <li  {{#if_eq selected 'opened'}}-->
<!--                        class="box-label"-->
<!--                        {{/if_eq}}><a href="/kyb/{{org}}/{{currentProject}}/list/open">Abiertos-->
<!--                            <span>{{status.opened}}</span></a></li>-->
<!--                        <li  {{#if_eq selected 'inProgress'}}-->
<!--                        class="box-label"-->
<!--                        {{/if_eq}}><a href="/kyb/{{org}}/{{currentProject}}/list/inProgress">Esperando por el cliente-->
<!--                            <span>{{status.inProgress}}</span></a></li>-->
<!--                        <li  {{#if_eq selected 'signed'}}-->
<!--                        class="box-label"-->
<!--                        {{/if_eq}}><a href="/kyb/{{org}}/{{currentProject}}/list/signed">Esperando Revisión-->
<!--                            <span>{{status.signed}}</span></a></li>-->
                        <li  {{#if_eq selected 'approved'}}
                        class="box-label"
                        {{/if_eq}}><a href="/kyb/{{org}}/{{currentProject}}/list/approved">Esperando Aprobación
                            <span>{{status.approved}}</span></a></li>
                        <li  {{#if_eq selected 'done'}}
                        class="box-label"
                        {{/if_eq}}><a href="/kyb/{{org}}/{{currentProject}}/list/done">Finalizados
                            <span>{{status.done}}</span></a></li>
                        <li  {{#if_eq selected 'rejected'}}
                        class="box-label"
                        {{/if_eq}}><a href="/kyb/{{org}}/{{currentProject}}/list/reject">Rechazados
                            <span>{{status.rejected}}</span></a></li>
                        {{!-- <li class="box-label"><a href="javascript:void(0)" data-toggle="modal" data-target="#myModal" class="btn btn-info text-white">+ Create New Label</a></li>
                        <div id="myModal" class="modal fade in" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h4 class="modal-title" id="myModalLabel">Add Lable</h4>
                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                    </div>
                                    <div class="modal-body">
                                        <from class="form-horizontal">
                                            <div class="form-group">
                                                <label class="col-md-12">Name of Label</label>
                                                <div class="col-md-12">
                                                    <input type="text" class="form-control" placeholder="type name"> </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-12">Select Number of people</label>
                                                <div class="col-md-12">
                                                    <select class="form-control">
                                                        <option>All Contacts</option>
                                                        <option>10</option>
                                                        <option>20</option>
                                                        <option>30</option>
                                                        <option>40</option>
                                                        <option>Custome</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </from>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-info waves-effect" data-dismiss="modal">Save</button>
                                        <button type="button" class="btn btn-default waves-effect" data-dismiss="modal">Cancel</button>
                                    </div>
                                </div>
                                <!-- /.modal-content -->
                            </div>
                            <!-- /.modal-dialog -->
                        </div> --}}
                    </ul>
                </div>
                <!-- /.left-aside-column-->
                <div class="right-aside ">
                    <div class="right-page-header">
                        <div class="d-flex">
                            <div class="align-self-center">
                                <h4 class="card-title m-t-10">Clientes / Lista Total </h4></div>
                            {{!-- <div class="ml-auto">
                                <input type="text" id="demo-input-search2" placeholder="search contacts" class="form-control"> </div> --}}
                        </div>
                    </div>
                    {{!-- <button type="button" class="btn btn-info btn-rounded m-t-10 float-right" data-toggle="modal" data-target="#add-contact">Add New Contact</button> --}}
                    <!-- Add Contact Popup Model -->
                    <div id="add-contact" class="modal fade in" tabindex="-1" role="dialog"
                         aria-labelledby="myModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                                    </button>
                                    <h4 class="modal-title" id="myModalLabel">Add New Contact</h4></div>
                                <div class="modal-body">
                                    <from class="form-horizontal form-material">
                                        <div class="form-group">
                                            <div class="col-md-12 m-b-20">
                                                <input type="text" class="form-control" placeholder="Type name"></div>
                                            <div class="col-md-12 m-b-20">
                                                <input type="text" class="form-control" placeholder="Email"></div>
                                            <div class="col-md-12 m-b-20">
                                                <input type="text" class="form-control" placeholder="Phone"></div>
                                            <div class="col-md-12 m-b-20">
                                                <input type="text" class="form-control" placeholder="Designation"></div>
                                            <div class="col-md-12 m-b-20">
                                                <input type="text" class="form-control" placeholder="Age"></div>
                                            <div class="col-md-12 m-b-20">
                                                <input type="text" class="form-control" placeholder="Date of joining">
                                            </div>
                                            <div class="col-md-12 m-b-20">
                                                <input type="text" class="form-control" placeholder="Salary"></div>
                                            <div class="col-md-12 m-b-20">
                                                <div class="fileupload btn btn-danger btn-rounded waves-effect waves-light">
                                                    <span><i class="ion-upload m-r-5"></i>Upload Contact Image</span>
                                                    <input type="file" class="upload"></div>
                                            </div>
                                        </div>
                                    </from>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-info waves-effect" data-dismiss="modal">Save
                                    </button>
                                    <button type="button" class="btn btn-default waves-effect" data-dismiss="modal">
                                        Cancel
                                    </button>
                                </div>
                            </div>
                            <!-- /.modal-content -->
                        </div>
                        <!-- /.modal-dialog -->
                    </div>
                    <div class="table-responsive">
                        <table id="list-table"
                               class="table no-wrap table-bordered m-t-30 table-hover contact-list footable footable-1 footable-paging footable-paging-center breakpoint-lg"
                               data-paging="true" data-paging-size="7" style="">
                            <thead>
                            <tr class="footable-header">

                                {{!-- <th class="footable-first-visible" style="display: table-cell;">No</th> --}}
<!--                                <th style="display: table-cell;">Nombre</th>-->
<!--                                <th style="display: table-cell;">Apellidos</th>-->
<!--                                <th style="display: table-cell;">Nacionalidad</th>-->
<!--                                <th style="display: table-cell;">Teléfono</th>-->
                                <th style="display: table-cell;">Email</th>
                                <th style="display: table-cell;">Status</th>
                                <th style="display: table-cell;">Registrado en</th>
                                <th class="footable-last-visible" style="display: table-cell;"></th>
                            </tr>
                            </thead>
                            <tbody style="font-size: 12px;">
                            {{#each initialInfo}}
                                <tr>
                                    <!-- <td>{{organizationId}}</td> -->
<!--                                    <td>{{name}}</td>-->
<!--                                    <td>{{lastname}} {{secondLastname}}</td>-->
<!--                                    <td>{{nationality}}</td>-->
<!--                                    <td>{{cellPhone}}</td>-->
                                    <td>{{email}}</td>
                                    <td><span class="badge badge-pill {{parseStatusBadgeColor status}}">{{parseStatus
                                            status}}</span></td>
                                    <td>{{parse_date createdAt}}</td>
                                    <td>
                                        <a href="/kyb/{{../org}}/{{../currentProject}}/{{carisId}}/view"
                                           class="table-actions" data-toggle="tooltip" data-original-title="Editar ">
                                            <i class="ti-marker-alt"></i>
                                            {{!-- <a href="#" class="table-actions" data-toggle="tooltip" data-original-title="Bloquear "><i class="ti-na"></i>
                                            <a href="#" class="table-actions" data-toggle="tooltip" data-original-title="Eliminar "><i class="ti-close"></i>                                    --}}
                                        </a>
                                    </td>
                                </tr>
                            {{else}}
                                <tr>
                                    <td colspan="5">No hay formularios para mostrar</td>
                                </tr>
                            {{/each}}
                            </tbody>
                        </table>
                    </div>
                    <!-- .left-aside-column-->
                </div>
                <!-- /.left-right-aside-column-->
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="createForm" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel1"
     aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="exampleModalLabel1">Crear un formulario nuevo</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">×</span></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="recipient-name" class="control-label">Organización:</label>
                        <select name="organization" style="width: 100%">
                            {{#each initialInfo.orgList}}
                                <option value="{{id}}">{{name}}</option>
                            {{/each}}
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="recipient-name" class="control-label">Nombre:</label>
                        <input type="text" class="form-control" id="recipient-name1">
                    </div>
                    <div class="form-group">
                        <label for="message-text" class="control-label">Descripción:</label>
                        <textarea class="form-control" id="message-text1" rows="3"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary">Enviar</button>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {

        var dateFormat = "dd-mm-yy",
                from = $("#datepickerFrom")
                        .datepicker({
                            defaultDate: "+1w",
                            changeMonth: true,
                            dateFormat: dateFormat
                        })
                        .on("change", function () {
                            var toMinDate = getDate(this);
                            toMinDate.setDate(toMinDate.getDate() + 1);
                            to.datepicker("option", "minDate", toMinDate);
                        }),

                to = $("#datepickerTo").datepicker({
                    defaultDate: "+1w",
                    changeMonth: true,
                    dateFormat: dateFormat,
                    minDate: new Date(),
                })
                        .on("change", function () {
                            var fromMaxDate = getDate(this);
                            fromMaxDate.setDate(fromMaxDate.getDate() - 1);
                            from.datepicker("option", "maxDate", fromMaxDate);
                        });

        function isValidDate(s) {
            var bits = s.split('-');
            var d = new Date(bits[1] + '/' + bits[0] + '/' + bits[2]);
            var month = d.getMonth() + 1;

            var nBits1 = Number(bits[0]);
            var nBits2 = Number(bits[1]);
            return d && d.getDate() == nBits1 && month == nBits2;
        }

        function getDate(element) {
            var date;
            try {
                date = $.datepicker.parseDate(dateFormat, element.value);
            } catch (error) {
                date = null;
            }

            return date;
        }


        $('#list-table').DataTable({
            language: {
                "url": "/dist/js/dataTable.es.json",
            },
            dom: 'Bfrtipl',
            buttons: [
                'excelHtml5',
                'csvHtml5',
                'pdfHtml5',
                'pageLength',
            ],
            "pageLength": 25
        });
    });
</script>
